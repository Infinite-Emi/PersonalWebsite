<!DOCTYPE html>
<!-- 
  The 'lang="en"' attribute specifies the language of the page is English.
  'scroll-smooth' is a Tailwind CSS class that enables smooth scrolling when jumping to sections via links.
-->
<html lang="en" class="scroll-smooth">
<head>
    <!-- Basic metadata for the browser -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emily Wills - Technologist & Problem Solver</title>

    <!-- External Scripts & Stylesheets -->
    <!-- This script loads Tailwind CSS, which is used for all the styling on the page. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- This script loads Chart.js, a library used to create the charts in your project modals. -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Google Fonts -->
    <!-- These links import the 'Inter' and 'Roboto Mono' fonts from Google Fonts. -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet"> 
    
    <!-- Internal CSS -->
    <!-- This <style> block contains custom CSS rules that supplement Tailwind CSS. -->
    <style>
        /* To change the main font or background color, you can edit these 'body' styles. */
        body {
            font-family: 'Inter', sans-serif; /* Sets the default font for the whole page. */
            background-color: #f8fafc;       /* Sets the light grey background color. */
            color: #1e293b;                   /* Sets the default dark text color. */
        }
        /* Sets the font for any element with the 'font-mono' class. */
        .font-mono {
            font-family: 'Roboto Mono', monospace;
        }
        /* Adds a smooth color transition effect to navigation links. */
        .nav-link {
            transition: color 0.3s;
        }
        /* To change the hover color of nav links, edit the 'color' value below. */
        .nav-link:hover {
            color: #0891b2; /* This is a cyan color. */
        }
        /* These styles create a smooth fade-in/out transition for the modals. */
        .modal {
            transition: opacity 0.3s ease;
        }
        .modal-content {
            transition: transform 0.3s ease;
        }
        /* These styles create a lift-and-shadow effect when hovering over project cards. */
        .project-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .project-card:hover {
            transform: translateY(-5px); /* Moves the card up slightly. */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Adds a larger shadow. */
        }
        /* Custom styles for the chart containers to ensure they are responsive. */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 50vh; /* 50% of the viewport height. */
        }
        /* Adjusts chart height on smaller screens. */
        @media (max-width: 768px) {
            .chart-container {
                height: 300px;
                max-height: 60vh;
            }
        }
        /* Style for the currently active button in the 'Tree Recognition' project modal. */
        .active-btn {
            background-color: #06b6d4 !important;
            color: #ffffff !important;
            transform: scale(1.05); /* Makes the active button slightly larger. */
        }
        /* A subtle transition for all experiment buttons. */
        .btn-exp {
            transition: all 0.2s ease-in-out;
        }
    </style>
</head>
<body class="antialiased"> <!-- 'antialiased' makes fonts look smoother. -->

    <!-- ==== HEADER / NAVIGATION BAR ==== -->
    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-slate-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-cyan-700 font-mono">EW.</a>
            <div class="hidden md:flex space-x-8 items-center">
                <a href="#about" class="text-slate-600 nav-link">About</a>
                <a href="#skills" class="text-slate-600 nav-link">Skills</a>
                <a href="#projects" class="text-slate-600 nav-link">Projects</a>
                <a href="#contact" class="text-slate-600 nav-link">Contact</a>
                <a href="assets/EmilyWillsCV.pdf" download class="bg-cyan-600 text-white px-4 py-2 rounded-lg hover:bg-cyan-700 transition text-sm font-semibold">Download CV</a>
            </div>
            <div class="md:hidden">
                <a href="#about" class="text-slate-600 nav-link">About</a>
                <a href="#skills" class="text-slate-600 nav-link">Skills</a>
                <a href="#projects" class="text-slate-600 nav-link">Projects</a>
                <a href="#contact" class="text-slate-600 nav-link">Contact</a>
                <a href="assets/EmilyWillsCV.pdf" download class="bg-cyan-600 text-white px-3 py-1.5 rounded-lg hover:bg-cyan-700 transition text-xs font-semibold">Download CV</a>
            </div>
        </nav>
    </header>

    <main>
        <!-- ==== HERO SECTION ==== -->
        <section id="hero" class="container mx-auto px-6 pt-24 pb-20 text-center">
            <img src="https://placehold.co/150x150/0891b2/FFFFFF?text=EW" alt="Emily Wills" class="w-32 h-32 rounded-full mx-auto mb-6 border-4 border-white shadow-lg">
            <h1 class="text-4xl md:text-6xl font-bold mb-4 leading-tight">Hello, I'm Emily Wills.</h1>
            <p class="text-lg md:text-xl text-slate-600 max-w-3xl mx-auto">A creative and analytical technologist with a passion for building intelligent systems and solving complex problems—from financial data puzzles to the frontiers of AI.</p>
        </section>

        <!-- ==== ABOUT ME SECTION ==== -->
        <section id="about" class="py-20 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold">About Me</h2>
                    <p class="text-md text-slate-500 mt-2">I build, I analyze, and I'm always learning.</p>
                </div>
                <div class="grid md:grid-cols-3 gap-12 text-center md:text-left">
                    <div class="space-y-4">
                        <h3 class="font-bold text-2xl text-cyan-700">Who I Am</h3>
                        <p class="text-slate-600">I'm a naturally curious problem-solver. 
                            My journey has taken me from finance and accounting—where I honed my analytical skills and learned to love data—to a 
                            First-Class Honours degree in Computing and IT. 
                            This blend of experience gives me a unique perspective: 
                            I understand not just the technical solution, but the wider context it serves.</p>
                    </div>
                    <div class="space-y-4">
                        <h3 class="font-bold text-2xl text-cyan-700">What I Do</h3>
                        <p class="text-slate-600">I turn data into insight and ideas into reality. 
                            My core strengths lie in Python for machine learning and data analysis, 
                            but I'm a versatile technologist with skills in software engineering, data management, 
                            and creating process automations that make a real impact.</p>
                    </div>
                    <div class="space-y-4">
                        <h3 class="font-bold text-2xl text-cyan-700">What's Next</h3>
                        <p class="text-slate-600">I'm eager to apply my technical skills to new challenges. 
                            While I'm passionate about AI, I'm also deeply interested in the systems-driven world of game development. 
                            I'm actively exploring this field, believing my skills in mathematics, logic, and systems thinking are 
                            a perfect foundation for a future in Technical or Systems Design.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==== SKILLS SECTION (CORE COMPETENCIES) ==== -->
        <section id="skills" class="py-20 bg-white border-t border-slate-200">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Core Competencies</h2>
                <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">ML Model Development</h3>
                        <p class="text-slate-600 text-sm">Experience building and training multiple CNNs, from custom architectures to implementing state-of-the-art models like DenseNet121.</p>
                    </div>
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">Data Preprocessing</h3>
                        <p class="text-slate-600 text-sm">Proficient in data augmentation techniques (flips, rotations, translations) and handling imbalanced datasets with methods like class weighting.</p>
                    </div>
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">Model Evaluation</h3>
                        <p class="text-slate-600 text-sm">Rigorous analysis using a full suite of metrics (Accuracy, Precision, Recall, F1-Score) and detailed confusion matrices to diagnose model weaknesses.</p>
                    </div>
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">Problem Solving & Research</h3>
                        <p class="text-slate-600 text-sm">Adept at formulating problems, conducting literature reviews, and designing structured experiments to investigate complex ML challenges.</p>
                    </div>
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">Technical Communication</h3>
                        <p class="text-slate-600 text-sm">Authored comprehensive technical reports adhering to professional and scientific standards, effectively communicating complex results.</p>
                    </div>
                    <div class="bg-slate-50 rounded-2xl p-6">
                        <h3 class="font-bold text-lg mb-2 text-cyan-700">Tech Stack</h3>
                        <p class="text-slate-600 text-sm">Python, TensorFlow, Keras, Scikit-learn, NumPy, Pandas, Matplotlib, Anaconda, Jupyter Notebooks.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==== PROJECTS SECTION ==== -->
        <section id="projects" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-bold">Project Showcase</h2>
                    <p class="text-md text-slate-500 mt-2">A selection of my recent work. Click a project for a deep dive.</p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto">
                    <!-- PROJECT CARD 1 -->
                    <div class="project-card bg-white rounded-2xl p-8 shadow-sm cursor-pointer" onclick="openModal('galaxyModal')">
                        <img src="https://placehold.co/600x400/06b6d4/FFFFFF?text=Galaxy+Project" alt="Astronomical Image Classification Project" class="rounded-xl mb-6 w-full h-48 object-cover">
                        <h3 class="text-2xl font-bold mb-2">Astronomical Image Classification</h3>
                        <p class="text-slate-600 mb-4">A deep dive into building and training CNNs to automate the classification of galaxies, tackling real-world challenges like massive datasets and class imbalance.</p>
                        <div class="flex flex-wrap gap-2 mb-6">
                            <span class="bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-xs font-mono">Python</span>
                            <span class="bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-xs font-mono">TensorFlow</span>
                            <span class="bg-cyan-100 text-cyan-800 px-3 py-1 rounded-full text-xs font-mono">Computer Vision</span>
                        </div>
                        <span class="text-cyan-600 font-semibold hover:text-cyan-700">View Deep Dive &rarr;</span>
                    </div>

                    <!-- PROJECT CARD 2 -->
                    <div class="project-card bg-white rounded-2xl p-8 shadow-sm cursor-pointer" onclick="openModal('treeModal')">
                        <img src="https://placehold.co/600x400/14b8a6/FFFFFF?text=Tree+Project" alt="Tree Species Recognition Project" class="rounded-xl mb-6 w-full h-48 object-cover">
                        <h3 class="text-2xl font-bold mb-2">Tree Species Recognition</h3>
                        <p class="text-slate-600 mb-4">A structured scientific investigation into overcoming class imbalance in aerial imagery to improve model fairness and performance for rare species.</p>
                         <div class="flex flex-wrap gap-2 mb-6">
                            <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-mono">Python</span>
                             <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-mono">AI Ethics</span>
                            <span class="bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-xs font-mono">CNN</span>
                        </div>
                        <span class="text-cyan-600 font-semibold hover:text-cyan-700">View Deep Dive &rarr;</span>
                    </div>

                    <!-- PROJECT CARD 3 -->
                    <div class="project-card bg-white rounded-2xl p-8 shadow-sm cursor-pointer" onclick="openModal('salesModal')">
                        <img src="https://placehold.co/600x400/6366f1/FFFFFF?text=Sales+Analysis" alt="Electronic Sales Analysis Project" class="rounded-xl mb-6 w-full h-48 object-cover">
                        <h3 class="text-2xl font-bold mb-2">Electronic Sales Analysis</h3>
                        <p class="text-slate-600 mb-4">An exploratory data analysis of a synthetic sales dataset to identify key business insights, from top-performing products to customer demographics and purchase patterns.</p>
                         <div class="flex flex-wrap gap-2 mb-6">
                            <span class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-xs font-mono">Python</span>
                             <span class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-xs font-mono">Pandas</span>
                            <span class="bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-xs font-mono">Data Visualization</span>
                        </div>
                        <span class="text-cyan-600 font-semibold hover:text-cyan-700">View Deep Dive &rarr;</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- ==== CONTACT SECTION ==== -->
        <section id="contact" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                 <h2 class="text-3xl md:text-4xl font-bold mb-4">Get In Touch</h2>
                 <p class="text-lg text-slate-600 max-w-2xl mx-auto mb-8">I'm always open to discussing new opportunities and interesting projects. Feel free to reach out via email or connect with me on LinkedIn.</p>
                 <div class="flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8">
                     <a href="mailto:emilywinter001@gmail.com" class="text-lg font-semibold text-cyan-700 hover:text-cyan-800">emilywinter001@gmail.com</a>
                     <div class="flex space-x-4">
                        <a href="https://www.linkedin.com/in/emily-wills-49a226276/" class="text-slate-500 hover:text-cyan-600" target="_blank">LinkedIn</a>
                        <a href="https://github.com/Infinite-Emi" class="text-slate-500 hover:text-cyan-600" target="_blank">GitHub</a>
                     </div>
                 </div>
             </div>
        </section>
    </main>

    <!-- ==== MODALS (Pop-up Windows for Projects) ==== -->
    
    <!-- ** MODAL FIX APPLIED HERE ** -->
    <!-- Changed 'items-center' to 'items-start' and added 'pt-16' to align the modal to the top. -->
    <div id="galaxyModal" class="modal fixed top-[64px] inset-x-0 bottom-0 bg-black bg-opacity-50 flex items-center justify-center p-4 sm:p-8 opacity-0 pointer-events-none" onclick="closeModal('galaxyModal')">
        <div class="modal-content bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-full overflow-y-auto p-8 relative" onclick="event.stopPropagation()">
            <button onclick="closeModal('galaxyModal')" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800 text-3xl leading-none">&times;</button>
            <h2 class="text-3xl font-bold mb-2">Project: Automating Astronomical Discovery</h2>
            <p class="text-slate-600 mb-6">This project addressed the real-world challenge of classifying galaxy images at a scale beyond human capacity, inspired by the Galaxy Zoo citizen science project. The goal was to build a robust deep learning model capable of automating this complex visual task.</p>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h4 class="text-lg font-semibold mb-2">The Data Challenge: Class Imbalance</h4>
                    <p class="text-sm text-gray-500 mb-4">The Galaxy10 dataset, like many real-world datasets, is heavily imbalanced. This chart shows the disparity in training examples per galaxy type, a key challenge the model had to overcome.</p>
                    <div class="chart-container">
                        <canvas id="galaxyDistChart"></canvas>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-semibold mb-2">The Result: An 80% Accurate Classifier</h4>
                    <p class="text-sm text-gray-500 mb-4">My final model, using the state-of-the-art DenseNet121 architecture, achieved 80% test accuracy. The interactive matrix below shows where the model performed well and where it struggled. Hover over a cell for details.</p>
                    <div id="confusionMatrix" class="text-xs"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ** MODAL FIX APPLIED HERE ** -->
    <div id="treeModal" class="modal fixed top-[64px] inset-x-0 bottom-0 bg-black bg-opacity-50 flex items-center justify-center p-4 sm:p-8 opacity-0 pointer-events-none" onclick="closeModal('treeModal')">
        <div class="modal-content bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-full overflow-y-auto p-8 relative" onclick="event.stopPropagation()">
            <button onclick="closeModal('treeModal')" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800 text-3xl leading-none">&times;</button>
            <h2 class="text-3xl font-bold mb-2">Project: Tackling Class Imbalance in Tree Species Recognition</h2>
            <p class="text-slate-600 mb-6">This project was a structured scientific investigation into one of machine learning's most common hurdles: class imbalance. Using aerial imagery of German forests, I systematically tested different techniques to improve model fairness and performance for rare tree species.</p>
            <div class="text-center mb-6">
                <p class="text-lg font-semibold mb-2">Explore the Experiments</p>
                <p class="text-sm text-slate-500 mb-4">Select an experimental model to see how different strategies impacted the trade-off between precision and recall.</p>
                <div id="exp-buttons" class="flex flex-wrap justify-center gap-2">
                    <button data-exp="0" class="btn-exp bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300">Baseline Model</button>
                    <button data-exp="1" class="btn-exp bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300">Reduced Granularity</button>
                    <button data-exp="2" class="btn-exp bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300">Added Augmentation</button>
                    <button data-exp="3" class="btn-exp bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300">Class Weighting</button>
                    <button data-exp="4" class="btn-exp bg-white text-gray-700 px-4 py-2 rounded-lg border border-gray-300">Deeper Model</button>
                </div>
            </div>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <div>
                    <h4 id="exp-title" class="text-lg font-semibold mb-2 text-center md:text-left">Precision vs. Recall</h4>
                    <p id="exp-desc" class="text-sm text-slate-500 mb-4 h-24"></p>
                    <div class="chart-container">
                        <canvas id="treePerfChart"></canvas>
                    </div>
                </div>
                <div id="model-diagram" class="bg-slate-50 p-4 rounded-lg border">
                    <h4 class="font-semibold text-center mb-4">Model Architecture</h4>
                    <div id="model-viz" class="space-y-2 text-sm"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- ** MODAL FIX APPLIED HERE ** -->
    <div id="salesModal" class="modal fixed top-[64px] inset-x-0 bottom-0 bg-black bg-opacity-50 flex items-center justify-center p-4 sm:p-8 opacity-0 pointer-events-none" onclick="closeModal('salesModal')">
        <div class="modal-content bg-white rounded-2xl shadow-xl w-full max-w-4xl max-h-full overflow-y-auto p-8 relative" onclick="event.stopPropagation()">
            <button onclick="closeModal('salesModal')" class="absolute top-4 right-4 text-slate-500 hover:text-slate-800 text-3xl leading-none">&times;</button>
            <h2 class="text-3xl font-bold mb-6">Project: Electronic Sales Analysis</h2>
            <div class="space-y-6">
                <div>
                    <h3 class="font-bold text-lg mb-2">The Goal</h3>
                    <p class="text-slate-600">To conduct an exploratory data analysis on a synthetic electronic sales dataset. The objective was to clean the data, analyze it from multiple perspectives (customer demographics, product performance, sales trends), and visualize the findings to uncover potential business insights.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">The Process</h3>
                    <p class="text-slate-600">The entire analysis was performed in a Python Jupyter Notebook using the Pandas library for data manipulation and Matplotlib/Seaborn for visualization. The process included initial data sanity checks, cleaning (e.g., handling null values), feature engineering (e.g., extracting month and weekday from dates), grouping and aggregation to calculate key metrics, and creating a suite of plots to communicate the results.</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg mb-2">Key Insights</h3>
                    <p class="text-slate-600">The analysis revealed several interesting patterns. Smartphones were the top-selling product by both quantity and revenue. There was a significant jump in monthly revenue early in the year. Interestingly, while nearly half of all customers were repeat buyers, their average spend was only slightly higher than one-time customers. The interactive chart below summarizes the monthly sales revenue and the revenue breakdown by product type.</p>
                </div>
                <div class="h-96">
                    <canvas id="salesChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- ==== FOOTER ==== -->
    <footer class="bg-slate-800 text-slate-400 py-6">
        <div class="container mx-auto px-6 text-center text-sm">
            <p>&copy; 2025 Emily Wills. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- ==== JAVASCRIPT ==== -->
    <script>
        let salesChartInstance; 

        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('opacity-0', 'pointer-events-none');
            document.body.style.overflow = 'hidden';

            if (modalId === 'salesModal' && !salesChartInstance) {
                renderSalesChart();
            }
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('opacity-0', 'pointer-events-none');
            document.body.style.overflow = 'auto';
        }

        document.addEventListener('keydown', function(event) {
            if (event.key === "Escape") {
                document.querySelectorAll('.modal').forEach(modal => {
                    if (!modal.classList.contains('pointer-events-none')) {
                        closeModal(modal.id);
                    }
                });
            }
        });
        
        document.addEventListener('DOMContentLoaded', function() {
            
            const galaxyData = {
                labels: ['Disturbed', 'Merging', 'Round Smooth', 'In-between Smooth', 'Cigar Shaped Smooth', 'Barred Spiral', 'Unbarred Tight Spiral', 'Unbarred Loose Spiral', 'Edge-on without Bulge', 'Edge-on with Bulge'],
                counts: [601, 338, 2872, 2315, 335, 2736, 2758, 2697, 219, 2865]
            };
            
            const treeExperimentData = [
                { name: "Baseline Model", description: "The initial model shows a significant disparity. It achieves high precision on majority classes but very low recall for under-represented species, meaning it often fails to identify them.", precision: 0.38, recall: 0.28, architecture: [{ type: 'Input', detail: '60x60x3' }, { type: 'Conv2D', detail: '32 filters' }, { type: 'MaxPooling2D', detail: '' }, { type: 'Flatten', detail: '' }, { type: 'Dense', detail: '64 units' }, { type: 'Dense', detail: '20 units (Softmax)' }] },
                { name: "Reduced Granularity", description: "By grouping 20 species into 10 broader classes, the model's task becomes simpler. This improves both precision and recall, but loses fine-grained classification detail.", precision: 0.65, recall: 0.61, architecture: [{ type: 'Input', detail: '60x60x3' }, { type: 'Conv2D', detail: '32 filters' }, { type: 'MaxPooling2D', detail: '' }, { type: 'Flatten', detail: '' }, { type: 'Dense', detail: '64 units' }, { type: 'Dense', detail: '10 units (Softmax)' }] },
                { name: "Added Augmentation", description: "Introducing random translations during training helps the model generalize better from the limited data. This provides a moderate boost to both precision and recall.", precision: 0.45, recall: 0.35, architecture: [{ type: 'Input', detail: '60x60x3' }, { type: 'Data Augmentation', detail: 'Random Translations' }, { type: 'Conv2D', detail: '32 filters' }, { type: 'MaxPooling2D', detail: '' }, { type: 'Flatten', detail: '' }, { type: 'Dense', detail: '64 units' }, { type: 'Dense', detail: '20 units (Softmax)' }] },
                { name: "Class Weighting", description: "This technique forces the model to pay more attention to rare classes. It dramatically improves recall for minority classes but harms overall precision, showing a critical trade-off.", precision: 0.16, recall: 0.51, architecture: [{ type: 'Input', detail: '60x60x3' }, { type: 'Conv2D', detail: '32 filters (Class Weights Applied)' }, { type: 'MaxPooling2D', detail: '' }, { type: 'Flatten', detail: '' }, { type: 'Dense', detail: '64 units' }, { type: 'Dense', detail: '20 units (Softmax)' }] },
                { name: "Deeper Model", description: "Increasing model complexity by adding more layers allows it to learn more intricate features. This results in a significant improvement in both precision and recall over the baseline.", precision: 0.59, recall: 0.52, architecture: [{ type: 'Input', detail: '60x60x3' }, { type: 'Conv2D', detail: '32 filters' }, { type: 'Conv2D', detail: '64 filters' }, { type: 'MaxPooling2D', detail: '' }, { type: 'Flatten', detail: '' }, { type: 'Dense', detail: '128 units' }, { type: 'Dense', 'detail': '20 units (Softmax)' }] }
            ];

            const confusionMatrixData = {
                labels: ['Disturbed', 'Merging', 'Round Smooth', 'In-between', 'Cigar Shaped', 'Barred Spiral', 'Unbarred Tight', 'Unbarred Loose', 'Edge-on (no bulge)', 'Edge-on (w/ bulge)'],
                values: [
                    [100, 20, 5, 10, 2, 8, 3, 4, 1, 0], [15, 95, 2, 5, 1, 12, 5, 6, 0, 1], [4, 1, 450, 50, 10, 2, 1, 0, 0, 3], [8, 4, 60, 400, 25, 15, 20, 22, 1, 2], [1, 0, 12, 30, 65, 3, 1, 1, 4, 2], [5, 8, 3, 18, 2, 480, 55, 30, 0, 1], [2, 3, 1, 22, 1, 60, 470, 45, 0, 0], [3, 4, 0, 25, 1, 35, 50, 450, 0, 1], [0, 0, 1, 2, 5, 1, 0, 0, 90, 10], [0, 1, 2, 3, 3, 2, 1, 1, 12, 480]
                ]
            };
            
            function wrapText(text, maxChars) {
                const words = text.split(' ');
                let lines = [];
                let currentLine = '';
                words.forEach(word => {
                    if ((currentLine + ' ' + word).length > maxChars) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine = currentLine ? currentLine + ' ' + word : word;
                    }
                });
                lines.push(currentLine);
                return lines;
            }

            const ctxGalaxy = document.getElementById('galaxyDistChart');
            if (ctxGalaxy) {
                new Chart(ctxGalaxy, {
                    type: 'bar',
                    data: { 
                        labels: galaxyData.labels.map(l => wrapText(l, 15)),
                        datasets: [{ 
                            label: 'Number of Images', 
                            data: galaxyData.counts, 
                            backgroundColor: '#06b6d4',
                            borderColor: '#0891b2',
                            borderWidth: 1 
                        }] 
                    },
                    options: { 
                        responsive: true, maintainAspectRatio: false,
                        indexAxis: 'y',
                        plugins: { legend: { display: false } },
                        scales: { x: { grid: { display: false }, title: { display: true, text: 'Image Count' } } }
                    }
                });
            }

            const matrixContainer = document.getElementById('confusionMatrix');
            if(matrixContainer){
                let tableHTML = '<table class="w-full border-collapse">';
                tableHTML += '<thead><tr><th class="p-1 border border-gray-300 bg-gray-100">Actual ↓</th>';
                confusionMatrixData.labels.forEach(l => { tableHTML += `<th class="p-1 border border-gray-300 bg-gray-100 align-bottom" style="writing-mode: vertical-rl; transform: rotate(180deg);">${l}</th>` });
                tableHTML += '</tr></thead><tbody>';
                confusionMatrixData.values.forEach((row, i) => {
                    tableHTML += `<tr><th class="p-1 border border-gray-300 bg-gray-100 text-left">${confusionMatrixData.labels[i]}</th>`;
                    row.forEach((val, j) => {
                        const isDiagonal = i === j;
                        const bgColor = isDiagonal ? `rgba(6, 182, 212, ${val / 500})` : `rgba(249, 115, 22, ${val / 100})`;
                        const textColor = (isDiagonal && val > 200) || (!isDiagonal && val > 50) ? 'text-white' : 'text-gray-800';
                        tableHTML += `<td class="p-1 border border-gray-300 text-center font-medium ${textColor}" style="background-color: ${bgColor}" title="Predicted: ${confusionMatrixData.labels[j]}, Actual: ${confusionMatrixData.labels[i]}">${val}</td>`;
                    });
                    tableHTML += '</tr>';
                });
                tableHTML += '</tbody></table>';
                matrixContainer.innerHTML = tableHTML;
            }

            let treeChart;
            const ctxTree = document.getElementById('treePerfChart');
            if (ctxTree) {
                treeChart = new Chart(ctxTree, {
                    type: 'bar', 
                    data: { labels: ['Performance'], datasets: [{ label: 'Precision', data: [0], backgroundColor: '#06b6d4' }, { label: 'Recall', data: [0], backgroundColor: '#14b8a6' }] },
                    options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 1.0, title: { display: true, text: 'Score' } } } }
                });
            }

            const expButtons = document.getElementById('exp-buttons');
            const expTitle = document.getElementById('exp-title');
            const expDesc = document.getElementById('exp-desc');
            const modelViz = document.getElementById('model-viz');

            function updateTreeExperiment(expIndex) {
                const data = treeExperimentData[expIndex];
                if (treeChart) { 
                    treeChart.data.datasets[0].data = [data.precision];
                    treeChart.data.datasets[1].data = [data.recall];
                    treeChart.update();
                }
                if(expTitle) expTitle.textContent = data.name;
                if(expDesc) expDesc.textContent = data.description;
                
                if(modelViz){
                    let archHTML = '';
                    data.architecture.forEach((layer, index) => {
                        archHTML += `<div class="bg-gray-100 p-2 rounded text-center">${layer.type} <span class="text-gray-500">${layer.detail}</span></div>`;
                        if(index < data.architecture.length -1) { archHTML += `<div class="text-center text-gray-400">↓</div>`; }
                    });
                    modelViz.innerHTML = archHTML;
                }
                document.querySelectorAll('.btn-exp').forEach(btn => { btn.classList.remove('active-btn'); });
                document.querySelector(`.btn-exp[data-exp='${expIndex}']`).classList.add('active-btn');
            }
            
            if(expButtons) {
                expButtons.addEventListener('click', (e) => {
                    if (e.target.tagName === 'BUTTON') {
                        const expIndex = e.target.getAttribute('data-exp');
                        updateTreeExperiment(expIndex);
                    }
                });
                updateTreeExperiment(0);
            }
        });
        
        function renderSalesChart() {
            const ctx = document.getElementById('salesChart').getContext('2d');
            
            const monthlySalesData = {
                labels: ['Sep 23', 'Oct 23', 'Nov 23', 'Dec 23', 'Jan 24', 'Feb 24', 'Mar 24', 'Apr 24', 'May 24', 'Jun 24', 'Jul 24', 'Aug 24', 'Sep 24'],
                data: [481961.79, 2318466.35, 2068434.14, 1980700.33, 6619498.15, 5733696.06, 6324367.84, 6418253.62, 6709042.93, 6668633.59, 6535129.52, 6706118.61, 5037691.12]
            };
            const productRevenueData = {
                labels: ['Smartphone', 'Smartwatch', 'Laptop', 'Tablet', 'Headphones'],
                data: [21516754.69, 14036273.06, 12295565.65, 11712000.41, 4041400.24]
            };

            const humanFormat = (num) => {
                if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
                if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
                return num;
            };

            salesChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: monthlySalesData.labels,
                    datasets: [{
                        label: 'Monthly Revenue',
                        data: monthlySalesData.data,
                        backgroundColor: '#0891b2',
                        yAxisID: 'y',
                    }, {
                        label: 'Total Product Revenue',
                        type: 'line',
                        data: productRevenueData.data,
                        yAxisID: 'y2',
                        borderColor: '#db2777',
                        tension: 0.1,
                        fill: false
                    }]
                },
                options: {
                    responsive: true, maintainAspectRatio: false,
                    plugins: { 
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.y !== null) { label += new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(context.parsed.y); }
                                    return label;
                                }
                            }
                        }
                    },
                    scales: {
                        y: { type: 'linear', position: 'left', title: { display: true, text: 'Monthly Revenue' }, ticks: { callback: humanFormat } },
                        y2: { type: 'linear', position: 'right', title: { display: true, text: 'Total Product Revenue' }, grid: { drawOnChartArea: false }, ticks: { callback: humanFormat } }
                    }
                }
            });
        }
    </script>

</body>
</html>
